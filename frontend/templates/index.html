<!DOCTYPE html>
<html>
<head>
    <title>Hair Salon Booking</title>
</head>
<body>
    <h1>Available Slots</h1>
    <ul>
    {% for time in times %}
        <li>{{ time }}</li>
    {% endfor %}
    </ul>
    <!-- Booking form -->
    <form id="booking-form">
        <label for="time">Select a time to book:</label>
        <input type="datetime-local" id="time" name="time" required>
        <button type="submit">Book Time</button>
    </form>
    <script>
        document.getElementById('booking-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const time = document.getElementById('time').value;
            fetch('/book', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({time: time})
            }).then(response => response.json()).then(data => {
                alert(data.message || data.error);
            }).catch(error => {
                alert('Error booking time');
            });
        });
    </script>
</body>
</html>
